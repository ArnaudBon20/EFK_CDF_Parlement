<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDF/EFK - Statistiques</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="header-main">
                <h1><a href="index.html" style="color: inherit; text-decoration: none;">ğŸ›ï¸ Le CDF aux Chambres fÃ©dÃ©rales</a></h1>
                <nav>
                    <a href="index.html">Objets</a>
                    <a href="debates.html">DÃ©bats</a>
                    <a href="stats.html" class="active">Statistiques</a>
                </nav>
            </div>
            <div class="lang-switcher">
                <a href="stats.html" class="active">FR</a>
                <span>|</span>
                <a href="stats_de.html">DE</a>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="stats-section">
            <h2>ğŸ“Š Statistiques des interventions</h2>
            
            <div class="stats-filters">
                <select id="objectYearFilter">
                    <option value="">Toutes les annÃ©es</option>
                </select>
                <select id="objectCouncilFilter">
                    <option value="">Tous les conseils</option>
                    <option value="N">Conseil national</option>
                    <option value="S">Conseil des Ã‰tats</option>
                </select>
                <select id="objectPartyFilter">
                    <option value="">Tous les partis</option>
                </select>
            </div>
            
            <div class="stats-row">
                <div class="stat-card">
                    <h3>Interventions par parti</h3>
                    <div class="chart-container">
                        <canvas id="partyChart"></canvas>
                    </div>
                </div>
                
                <div class="stat-card">
                    <h3>Interventions par type</h3>
                    <div class="chart-container">
                        <canvas id="typeChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="stats-row">
                <div class="stat-card">
                    <h3>ğŸ“ˆ Ã‰volution par annÃ©e</h3>
                    <div class="chart-container-wide">
                        <canvas id="yearChart"></canvas>
                    </div>
                </div>
                
                <div class="stat-card top-card">
                    <h3>ğŸ† Top 5 des parlementaires</h3>
                    <div id="topAuthors" class="top-authors-list">
                        <p>Chargement...</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="stats-section">
            <h2>ğŸ—£ï¸ Statistiques des dÃ©bats</h2>
            
            <div class="stats-filters">
                <select id="debateYearFilter">
                    <option value="">Toutes les annÃ©es</option>
                </select>
                <select id="debateSessionFilter">
                    <option value="">Toutes les sessions</option>
                </select>
                <select id="debateCouncilFilter">
                    <option value="">Tous les conseils</option>
                    <option value="N">Conseil national</option>
                    <option value="S">Conseil des Ã‰tats</option>
                </select>
                <select id="debatePartyFilter">
                    <option value="">Tous les partis</option>
                </select>
            </div>
            
            <div class="stats-row">
                <div class="stat-card">
                    <h3>Interventions par parti</h3>
                    <div class="chart-container">
                        <canvas id="debatePartyChart"></canvas>
                    </div>
                </div>
                
                <div class="stat-card">
                    <h3>Interventions par conseil</h3>
                    <div class="chart-container">
                        <canvas id="debateCouncilChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="stats-row">
                <div class="stat-card top-card">
                    <h3>ğŸ† Top 5 des orateurs (dÃ©bats)</h3>
                    <div id="topSpeakers" class="top-authors-list">
                        <p>Chargement...</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <h3>ğŸ“Š RÃ©sumÃ©</h3>
                    <div id="debateSummary" class="summary-box">
                        <p>Chargement...</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>DonnÃ©es: <a href="https://ws.parlament.ch/" target="_blank">API du Parlement suisse</a> Â· 
               <a href="https://github.com/ArnaudBon20/EFK_CDF_Parlement" target="_blank">Code source</a></p>
            <p class="feedback-box"><a href="mailto:arnaud.bonvin@efk.admin.ch">Feedback ?</a></p>
        </div>
    </footer>

    <script src="stats.js"></script>
</body>
</html>
